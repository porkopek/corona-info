{"version":3,"sources":["components/card-property.tsx","components/country-card.tsx","components/country-properties-sorter.tsx","models/country.ts","components/countries-table.tsx","components/view-selector.tsx","containers/countries-container.tsx","components/navbar.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["CardProperty","text","value","isActive","isNew","className","style","left","title","width","CountryCard","country","activeProperty","index","previousData","backgroundColor","src","countryInfo","flag","alt","isNewData","cases","toLocaleString","todayCases","deaths","todayDeaths","lethality","toFixed","casesPerOneMillion","deathsPerOneMillion","tests","testsPerOneMillion","PropertiesSorter","onSort","FormControl","variant","minWidth","InputLabel","id","Select","labelId","onChange","e","target","label","MenuItem","Country","recovered","critical","updated","active","this","lethalityString","Number","CountriesTable","countries","sortProperty","TableContainer","component","Paper","Table","size","aria-label","TableHead","TableRow","TableCell","align","TableBody","map","i","key","scope","ViewSelector","view","onChangeView","Button","height","onClick","Apps","FormatListNumbered","track","NovelCovid","CountriesContainer","useState","setCountries","JSON","parse","localStorage","getItem","setPreviousData","setSortProperty","setView","useEffect","a","newData","filter","c","sort","b","Object","assign","length","countriesString","stringify","setItem","error","console","log","getCountries","data","property","sortFunction","newCountries","slice","oldCountries","CircularProgress","color","Navbar","App","Boolean","window","location","hostname","match","theme","createMuiTheme","palette","primary","grey","secondary","main","success","red","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.d79d7443.chunk.js","sourcesContent":["import React from 'react';\r\nexport default function CardProperty({\r\n  text,\r\n  value,\r\n  isActive = false,\r\n  isNew = false,\r\n}: {\r\n  text: string;\r\n  value?: string;\r\n  isActive?: boolean;\r\n  isNew?: boolean;\r\n}) {\r\n  const activeState = 'font-bold';\r\n  return (\r\n    <div\r\n      className={`flex justify-between items-center relative pl-2 ${\r\n        isActive && activeState\r\n      } rounded-lg`}\r\n    >\r\n      {/* red dot pulsing if new data  */}\r\n      {isNew ? (\r\n        <div\r\n          className=\"blob green absolute \"\r\n          style={{ left: -35 }}\r\n          title=\"there's new data since the last time you visited the site\"\r\n        ></div>\r\n      ) : (\r\n        <div className=\"absolute left-0\" style={{ width: 10 }}></div>\r\n      )}\r\n      <span>{text}:</span>\r\n\r\n      <div>{value}</div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport CardProperty from './card-property';\r\nimport Country from '../models/country';\r\nimport './country-card.css';\r\ninterface CountryCardProps {\r\n  country: Country;\r\n  previousData: Country;\r\n  activeProperty: keyof Country;\r\n  index: number;\r\n}\r\nexport default function CountryCard({\r\n  country,\r\n  activeProperty,\r\n  index,\r\n  previousData,\r\n}: CountryCardProps) {\r\n  return (\r\n    <div className=\"shadow rounded-md overflow-hidden hover:shadow-md  transition duration-300 ease-in-out cursor-pointer\">\r\n      {/* header */}\r\n      <div\r\n        className=\"w-full flex justify-center items-center p-5 font-bold uppercase text-black text-lg relative\"\r\n        style={{ backgroundColor: 'rgba(0,0,0,.04)' }}\r\n      >\r\n        <span className=\"absolute\" style={{ left: '2rem' }}>\r\n          {index}.\r\n        </span>\r\n        <img src={country.countryInfo?.flag} alt=\"\" className=\"h-4 mr-2\" />\r\n        <h3>{country.country}</h3>\r\n        {country.isNewData && (\r\n          <div\r\n            className=\"blob green\"\r\n            title=\"there is new data from the last time you visited the site\"\r\n          ></div>\r\n        )}\r\n      </div>\r\n      {/* body */}\r\n      <div className=\"px-6 py-2\">\r\n        <CardProperty\r\n          text=\"Cases\"\r\n          value={country.cases.toLocaleString()}\r\n          isActive={activeProperty === 'cases'}\r\n          isNew={previousData?.cases !== country.cases}\r\n        />\r\n        <CardProperty\r\n          text=\"Today cases\"\r\n          value={country.todayCases?.toLocaleString()}\r\n          isActive={activeProperty === 'todayCases'}\r\n          isNew={previousData?.todayCases !== country.todayCases}\r\n        />\r\n        <br className=\"my-3\" />\r\n        <CardProperty\r\n          text=\"Deaths\"\r\n          value={country.deaths?.toLocaleString()}\r\n          isActive={activeProperty === 'deaths'}\r\n          isNew={previousData?.deaths !== country.deaths}\r\n        />\r\n        <CardProperty\r\n          text=\"Today deaths\"\r\n          value={country.todayDeaths?.toLocaleString()}\r\n          isActive={activeProperty === 'todayDeaths'}\r\n          isNew={previousData?.todayDeaths !== country.todayDeaths}\r\n        />\r\n        <br className=\"my-3\" />\r\n        <CardProperty\r\n          text=\"Lethality\"\r\n          value={country.lethality ? country.lethality.toFixed(2) + '%' : '0%'}\r\n          isActive={activeProperty === 'lethality'}\r\n          isNew={previousData?.lethality !== country.lethality}\r\n        />\r\n        <CardProperty\r\n          text=\"Cases per 1M\"\r\n          value={country.casesPerOneMillion.toLocaleString()}\r\n          isActive={activeProperty === 'casesPerOneMillion'}\r\n          isNew={\r\n            previousData?.casesPerOneMillion !== country.casesPerOneMillion\r\n          }\r\n        />\r\n        <CardProperty\r\n          text=\"Deaths per 1M\"\r\n          value={country.deathsPerOneMillion.toLocaleString()}\r\n          isActive={activeProperty === 'deathsPerOneMillion'}\r\n          isNew={\r\n            previousData?.deathsPerOneMillion !== country.deathsPerOneMillion\r\n          }\r\n        />\r\n        <br />\r\n        <CardProperty\r\n          text=\"Tests\"\r\n          value={country.tests.toLocaleString()}\r\n          isActive={activeProperty === 'tests'}\r\n          isNew={previousData?.tests !== country.tests}\r\n        />\r\n        <CardProperty\r\n          text=\"Tests per 1M\"\r\n          value={country.testsPerOneMillion.toLocaleString()}\r\n          isActive={activeProperty === 'testsPerOneMillion'}\r\n          isNew={\r\n            previousData?.testsPerOneMillion !== country.testsPerOneMillion\r\n          }\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Country from '../models/country';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\ninterface FilterMenuOptions {\r\n  onSort: (property?: keyof Country, mode?: 'ASC' | 'DESC') => void;\r\n}\r\n\r\nexport default function PropertiesSorter({ onSort }: FilterMenuOptions) {\r\n  const handleSort = (e: React.ChangeEvent<{ value: unknown }>) => {\r\n    const value = e.target.value as keyof Country;\r\n\r\n    onSort(value);\r\n  };\r\n  return (\r\n    <>\r\n      <FormControl variant=\"outlined\" style={{ minWidth: 180 }}>\r\n        <InputLabel id=\"select-label\">Sort by</InputLabel>\r\n        <Select\r\n          labelId=\"select-label\"\r\n          id=\"select\"\r\n          onChange={handleSort}\r\n          label=\"Sort by\"\r\n        >\r\n          <MenuItem value=\"cases\">cases</MenuItem>\r\n          <MenuItem value=\"todayCases\">today cases</MenuItem>\r\n          <MenuItem value=\"deaths\">deaths</MenuItem>\r\n          <MenuItem value=\"todayDeaths\">today deaths</MenuItem>\r\n          <br />\r\n          <MenuItem value=\"lethality\">lethality</MenuItem>\r\n\r\n          <MenuItem value=\"casesPerOneMillion\">cases per 1M</MenuItem>\r\n          <MenuItem value=\"deathsPerOneMillion\">deaths per 1M</MenuItem>\r\n          <br />\r\n          <MenuItem value=\"tests\">tests</MenuItem>\r\n          <MenuItem value=\"testsPerOneMillion\">tests per 1M</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n    </>\r\n  );\r\n}\r\n","export default class Country {\r\n  country?: string;\r\n  countryInfo:\r\n    | {\r\n        _id: number | null;\r\n        latitude: number;\r\n        longitude: number;\r\n        flag: string;\r\n        iso3: string | null;\r\n        iso2: string | null;\r\n      }\r\n    | undefined;\r\n  todayCases: number = 0;\r\n  deaths: number = 0;\r\n  todayDeaths: number = 0;\r\n  recovered: number = 0;\r\n  critical: number = 0;\r\n  deathsPerOneMillion: number = 0;\r\n  updated: number = 0;\r\n  tests: number = 0;\r\n  testsPerOneMillion: number = 0;\r\n  active: number = 0;\r\n  cases: number = 0;\r\n  casesPerOneMillion: number = 0;\r\n  isNewData: boolean = false;\r\n  public get lethality() {\r\n    const lethalityString = (\r\n      this.deaths &&\r\n      this.cases &&\r\n      (this.deaths / this.cases) * 100\r\n    ).toFixed(2);\r\n\r\n    const result = Number(lethalityString);\r\n    return result;\r\n  }\r\n  toJSON() {\r\n    return { ...this, lethality: this.lethality };\r\n  }\r\n}\r\n","import React from 'react';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport {\r\n  Paper,\r\n  Table,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableBody,\r\n} from '@material-ui/core';\r\n\r\nimport Country from '../models/country';\r\n\r\ninterface CountriesTableProps {\r\n  countries: Country[];\r\n  sortProperty?: keyof Country;\r\n}\r\nexport default function CountriesTable({\r\n  countries,\r\n  sortProperty = 'cases',\r\n}: CountriesTableProps) {\r\n  const sortedStyle = 'bg-gray-200';\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table size=\"small\" aria-label=\"a dense table\">\r\n        <TableHead className=\" bg-gray-200  \">\r\n          <TableRow>\r\n            <TableCell align=\"center\">\r\n              <span className=\"font-bold\">#</span>\r\n            </TableCell>\r\n            <TableCell>Country</TableCell>\r\n            <TableCell align=\"center\">Cases</TableCell>\r\n            <TableCell align=\"center\">Today cases</TableCell>\r\n            <TableCell align=\"center\">Deaths</TableCell>\r\n            <TableCell align=\"center\">Today deaths</TableCell>\r\n            <TableCell align=\"center\">Lethality</TableCell>\r\n            <TableCell align=\"center\">Cases per 1M</TableCell>\r\n            <TableCell align=\"center\">Deaths per 1M</TableCell>\r\n            <TableCell align=\"center\">Tests</TableCell>\r\n            <TableCell align=\"center\">Tests per 1M</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {countries.map((country, i) => (\r\n            <TableRow key={country.country}>\r\n              <TableCell align=\"right\">\r\n                <span className=\"font-bold\">{i + 1}</span>\r\n              </TableCell>\r\n\r\n              <TableCell component=\"th\" scope=\"row\">\r\n                <span className=\"flex items-center\">\r\n                  <img\r\n                    className=\"w-4 mr-2\"\r\n                    src={`${country.countryInfo?.flag}`}\r\n                    alt=\"\"\r\n                  />\r\n                  <span>{country.country}</span>\r\n                </span>\r\n              </TableCell>\r\n\r\n              <TableCell\r\n                className={`${sortProperty === 'cases' && sortedStyle}`}\r\n                align=\"right\"\r\n              >\r\n                {country.cases.toLocaleString()}\r\n              </TableCell>\r\n\r\n              <TableCell\r\n                className={`${sortProperty === 'todayCases' && sortedStyle}`}\r\n                align=\"right\"\r\n              >\r\n                {country.todayCases.toLocaleString()}\r\n              </TableCell>\r\n\r\n              <TableCell\r\n                className={`${sortProperty === 'deaths' && sortedStyle}`}\r\n                align=\"right\"\r\n              >\r\n                {country.deaths.toLocaleString()}\r\n              </TableCell>\r\n\r\n              <TableCell\r\n                className={`${sortProperty === 'todayDeaths' && sortedStyle}`}\r\n                align=\"right\"\r\n              >\r\n                {country.todayDeaths.toLocaleString()}\r\n              </TableCell>\r\n\r\n              <TableCell\r\n                className={`${sortProperty === 'lethality' && sortedStyle}`}\r\n                align=\"right\"\r\n              >\r\n                {country.lethality.toLocaleString()}%\r\n              </TableCell>\r\n\r\n              <TableCell\r\n                className={`${\r\n                  sortProperty === 'casesPerOneMillion' && sortedStyle\r\n                }`}\r\n                align=\"right\"\r\n              >\r\n                {country.casesPerOneMillion.toLocaleString()}\r\n              </TableCell>\r\n\r\n              <TableCell\r\n                className={`${\r\n                  sortProperty === 'deathsPerOneMillion' && sortedStyle\r\n                }`}\r\n                align=\"right\"\r\n              >\r\n                {country.deathsPerOneMillion.toLocaleString()}\r\n              </TableCell>\r\n\r\n              <TableCell\r\n                className={`${sortProperty === 'tests' && sortedStyle}`}\r\n                align=\"right\"\r\n              >\r\n                {country.tests.toLocaleString()}\r\n              </TableCell>\r\n\r\n              <TableCell\r\n                className={`${\r\n                  sortProperty === 'testsPerOneMillion' && sortedStyle\r\n                }`}\r\n                align=\"right\"\r\n              >\r\n                {country.testsPerOneMillion.toLocaleString()}\r\n              </TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Button } from '@material-ui/core';\r\nimport { Apps, FormatListNumbered } from '@material-ui/icons';\r\n\r\ninterface ViewSelectorProps {\r\n  view: 'cards' | 'table';\r\n  onChangeView: (view: 'cards' | 'table') => void;\r\n}\r\nexport default function ViewSelector({\r\n  view,\r\n  onChangeView,\r\n}: ViewSelectorProps) {\r\n  return (\r\n    <div className=\"ml-3 flex items-center\">\r\n      <Button\r\n        style={{ height: '100%' }}\r\n        onClick={() => {\r\n          const nextView = view === 'cards' ? 'table' : 'cards';\r\n          return onChangeView(nextView);\r\n        }}\r\n      >\r\n        {view !== 'cards' ? <Apps /> : <FormatListNumbered />}\r\n        <span className=\"ml-3 normal-case\">\r\n          {' '}\r\n          {view !== 'cards' ? 'Cards View' : 'Table View'}\r\n        </span>\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { NovelCovid } from 'novelcovid';\r\nimport CountryCard from '../components/country-card';\r\nimport PropertiesSorter from '../components/country-properties-sorter';\r\nimport Country from '../models/country';\r\nimport './countries-container.css';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport CountryFilter from '../components/country-filter';\r\nimport CountriesTable from '../components/countries-table';\r\nimport ViewSelector from '../components/view-selector';\r\nconst track = new NovelCovid();\r\nexport default function CountriesContainer() {\r\n  const [countries, setCountries] = useState<Country[]>([]);\r\n  const [previousData, setPreviousData] = useState<Country[]>(\r\n    (JSON.parse(localStorage.getItem('countries') || '[]') as Country[]) || []\r\n  );\r\n  const [sortProperty, setSortProperty] = useState<keyof Country>('cases');\r\n  const [view, setView] = useState<'cards' | 'table'>('cards');\r\n\r\n  useEffect(() => {\r\n    // fetch the countries data\r\n    const getCountries = async () => {\r\n      const newData = (((await track.countries()) as unknown[]) as Country[])\r\n        .filter((c) => c.cases > 1000)\r\n        .sort((a, b) => b.cases - a.cases)\r\n        .map((c) => Object.assign(new Country(), c));\r\n\r\n      if (newData.length) {\r\n        try {\r\n          const countriesString = JSON.stringify(newData);\r\n          localStorage.setItem('countries', countriesString);\r\n          setCountries(newData as Country[]);\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n    };\r\n\r\n    //WATCH\r\n    getCountries();\r\n  }, []);\r\n\r\n  const handleSort = (property: keyof Country = 'cases') => {\r\n    setSortProperty(property);\r\n    const sortFunction = (a: Country, b: Country): 1 | -1 | 0 => {\r\n      if (b[property]! > a[property]!) return 1;\r\n      if (b[property]! < a[property]!) return -1;\r\n      return 0;\r\n    };\r\n    var newCountries = countries.slice().sort(sortFunction);\r\n    var oldCountries = previousData.slice().sort(sortFunction);\r\n    setCountries(newCountries);\r\n    setPreviousData(oldCountries);\r\n  };\r\n\r\n  const handleChangeView = (view: 'cards' | 'table') => {\r\n    setView(view);\r\n  };\r\n\r\n  const data = countries || previousData;\r\n  return (\r\n    <>\r\n      <div className=\"flex mb-2  flex-auto\">\r\n        <PropertiesSorter onSort={handleSort} />\r\n        <ViewSelector view={view} onChangeView={handleChangeView} />\r\n      </div>\r\n      {/* <CountryFilter countries={countries.map((c) => c.country || '')} /> */}\r\n      {data?.length === 0 && (\r\n        <div className=\"flex justify-center items-center\">\r\n          <CircularProgress color=\"primary\" size={20} />\r\n          <span className=\"ml-2\">Loading</span>\r\n        </div>\r\n      )}\r\n      {view === 'cards' ? (\r\n        <div className=\"grid md:grid-cols-3 gap-4  xl:grid-cols-3\">\r\n          {data?.map((country, id) => (\r\n            <CountryCard\r\n              index={id + 1}\r\n              country={country}\r\n              key={country.country}\r\n              activeProperty={sortProperty}\r\n              previousData={previousData[id]}\r\n            />\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <CountriesTable countries={countries} sortProperty={sortProperty} />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nexport default function Navbar() {\r\n  return (\r\n    <nav className=\" p-6 fixed w-screen top-0 bg-white shadow-md uppercase z-10\">\r\n      <div className=\"container mx-auto flex items-center justify-between flex-wrap \">\r\n        <div className=\" flex items-center flex-shrink-0 text-black mr-6\">\r\n          <img src=\"/corona-info/favicon.png\" alt=\"\" className=\"w-8 mr-2\" />\r\n          <span className=\"font-semibold text-2xl tracking-tight \">\r\n            Corona Info\r\n          </span>\r\n        </div>\r\n        {/* <div className=\"block lg:hidden\">\r\n          <button className=\"flex items-center px-3 py-2 border rounded text-black border-gray-400 hover:text-white hover:border-white\">\r\n            <svg\r\n              className=\"fill-current h-3 w-3\"\r\n              viewBox=\"0 0 20 20\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <title>Menu</title>\r\n              <path d=\"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z\" />\r\n            </svg>\r\n          </button>\r\n        </div> */}\r\n        {/* <div className=\"w-full block flex-grow lg:flex lg:items-center lg:w-auto\">\r\n          <div className=\"text-sm lg:flex-grow\">\r\n            <a\r\n              href=\"#responsive-header\"\r\n              className=\"block mt-4 lg:inline-block lg:mt-0 text-gray-600 hover:text-gray-700 mr-4\"\r\n            >\r\n              Countries\r\n            </a>\r\n          </div>\r\n        </div> */}\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport CountriesContainer from './containers/countries-container';\r\nimport Navbar from './components/navbar';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\" \">\r\n      <Navbar />\r\n      <div className=\"container max-w-5xl bg-white mx-auto\">\r\n        <CountriesContainer />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\r\nimport purple from '@material-ui/core/colors/purple';\r\nimport { grey, red } from '@material-ui/core/colors';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: grey,\r\n\r\n    secondary: {\r\n      main: '#f44336',\r\n    },\r\n    success: red,\r\n  },\r\n});\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <MuiThemeProvider theme={theme}>\r\n      <App />\r\n    </MuiThemeProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}