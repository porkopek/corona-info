(this["webpackJsonpcorona-info"]=this["webpackJsonpcorona-info"]||[]).push([[0],{235:function(e,t,a){e.exports=a(428)},240:function(e,t,a){},241:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){},248:function(e,t,a){},249:function(e,t,a){},428:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(15),s=a.n(l),c=(a(240),a(241),a(21)),o=a.n(c),i=a(44),u=a(26);function d(e){var t=e.text,a=e.value,n=e.isActive,l=void 0!==n&&n,s=e.isNew,c=void 0!==s&&s;return r.a.createElement("div",{className:"flex justify-between items-center relative pl-2 ".concat(l&&"font-bold"," rounded-lg")},c?r.a.createElement("div",{className:"blob green absolute ",style:{left:-35},title:"there's new data since the last time you visited the site"}):r.a.createElement("div",{className:"absolute left-0",style:{width:10}}),r.a.createElement("span",null,t,":"),r.a.createElement("div",null,a))}a(243);function m(e){var t,a,n,l,s=e.country,c=e.activeProperty,o=e.previousData,i=e.onSelectCountry;return r.a.createElement("div",{className:"shadow rounded-md overflow-hidden hover:shadow-md  transition duration-300 ease-in-out "},r.a.createElement("div",{onClick:function(e){return i(s)},className:"w-full cursor-pointer flex justify-center items-center p-5 font-bold uppercase text-black text-lg relative",style:{backgroundColor:"rgba(0,0,0,.04)"}},r.a.createElement("span",{className:"absolute",style:{left:"2rem"}},s.ranking,"."),r.a.createElement("img",{src:null===(t=s.countryInfo)||void 0===t?void 0:t.flag,alt:"",className:"h-4 mr-2"}),r.a.createElement("h3",null,s.country),s.isNewData&&r.a.createElement("div",{className:"blob green",title:"there is new data from the last time you visited the site"})),r.a.createElement("div",{className:"px-6 py-2"},r.a.createElement(d,{text:"Cases",value:s.cases.toLocaleString(),isActive:"cases"===c,isNew:(null===o||void 0===o?void 0:o.cases)!==s.cases}),r.a.createElement(d,{text:"Today cases",value:null===(a=s.todayCases)||void 0===a?void 0:a.toLocaleString(),isActive:"todayCases"===c,isNew:(null===o||void 0===o?void 0:o.todayCases)!==s.todayCases}),r.a.createElement("br",{className:"my-3"}),r.a.createElement(d,{text:"Deaths",value:null===(n=s.deaths)||void 0===n?void 0:n.toLocaleString(),isActive:"deaths"===c,isNew:(null===o||void 0===o?void 0:o.deaths)!==s.deaths}),r.a.createElement(d,{text:"Today deaths",value:null===(l=s.todayDeaths)||void 0===l?void 0:l.toLocaleString(),isActive:"todayDeaths"===c,isNew:(null===o||void 0===o?void 0:o.todayDeaths)!==s.todayDeaths}),r.a.createElement("br",{className:"my-3"}),r.a.createElement(d,{text:"Lethality",value:s.lethality?s.lethality.toFixed(2)+"%":"0%",isActive:"lethality"===c,isNew:(null===o||void 0===o?void 0:o.lethality)!==s.lethality}),r.a.createElement(d,{text:"Cases per 1M",value:s.casesPerOneMillion.toLocaleString(),isActive:"casesPerOneMillion"===c,isNew:(null===o||void 0===o?void 0:o.casesPerOneMillion)!==s.casesPerOneMillion}),r.a.createElement(d,{text:"Deaths per 1M",value:s.deathsPerOneMillion.toLocaleString(),isActive:"deathsPerOneMillion"===c,isNew:(null===o||void 0===o?void 0:o.deathsPerOneMillion)!==s.deathsPerOneMillion}),r.a.createElement("br",null),r.a.createElement(d,{text:"Tests",value:s.tests.toLocaleString(),isActive:"tests"===c,isNew:(null===o||void 0===o?void 0:o.tests)!==s.tests}),r.a.createElement(d,{text:"Tests per 1M",value:s.testsPerOneMillion.toLocaleString(),isActive:"testsPerOneMillion"===c,isNew:(null===o||void 0===o?void 0:o.testsPerOneMillion)!==s.testsPerOneMillion})))}var h=a(485),v=a(486),g=a(460),f=a(481);a(244);function E(e){var t=e.onSort;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{variant:"filled",className:"border-10 border",style:{minWidth:135}},r.a.createElement(h.a,{id:"select-label"},"Sort by"),r.a.createElement(f.a,{labelId:"select-label",id:"select",onChange:function(e){var a=e.target.value;t(a)},label:"Sort by"},r.a.createElement(v.a,{value:"cases"},"cases"),r.a.createElement(v.a,{value:"todayCases"},"today cases"),r.a.createElement(v.a,{value:"deaths"},"deaths"),r.a.createElement(v.a,{value:"todayDeaths"},"today deaths"),r.a.createElement("br",null),r.a.createElement(v.a,{value:"lethality"},"lethality"),r.a.createElement(v.a,{value:"casesPerOneMillion"},"cases per 1M"),r.a.createElement(v.a,{value:"deathsPerOneMillion"},"deaths per 1M"),r.a.createElement("br",null),r.a.createElement(v.a,{value:"tests"},"tests"),r.a.createElement(v.a,{value:"testsPerOneMillion"},"tests per 1M"))))}a(248);var y=a(477),b=a(478),p=a(479),w=a(467),N=a(464),O=a(468),x=a(469),k=a(465),C=a(466),M=a(470),S=a(483);function j(e){var t=e.sortedStyle,a=e.average;return r.a.createElement(k.a,{key:"average"},r.a.createElement(C.a,{align:"right",className:t+" font-bold"}),r.a.createElement(C.a,{component:"th",scope:"row",className:t},r.a.createElement("span",{className:"font-bold"},"Average*")),["cases","todayCases","deaths","todayDeaths","lethality","casesPerOneMillion","deathsPerOneMillion","tests","testsPerOneMillion"].map((function(e){return r.a.createElement(C.a,{align:"right",className:t+" font-bold"},r.a.createElement("span",{className:"font-bold"},a[e].toLocaleString(),"lethality"===e&&".00%"))})))}a(249);function P(e){var t=e.countries,a=e.sortProperty,n=void 0===a?"cases":a,l=e.onSelectCountry,s=e.onShowStats,c=e.selectedCountries,o=e.average;return r.a.createElement(w.a,{component:N.a},r.a.createElement(O.a,{size:"small","aria-label":"a dense table",stickyHeader:!0},r.a.createElement(x.a,null,r.a.createElement(k.a,null,r.a.createElement(C.a,{align:"center"},r.a.createElement("span",{className:"font-bold"},"#")),r.a.createElement(C.a,null,"Country"),r.a.createElement(C.a,{align:"center"},"Cases"),r.a.createElement(C.a,{align:"center"},"Today cases"),r.a.createElement(C.a,{align:"center"},"Deaths"),r.a.createElement(C.a,{align:"center"},"Today deaths"),r.a.createElement(C.a,{align:"center"},"Lethality"),r.a.createElement(C.a,{align:"center"},"Cases per 1M"),r.a.createElement(C.a,{align:"center"},"Deaths per 1M"),r.a.createElement(C.a,{align:"center"},"Tests"),r.a.createElement(C.a,{align:"center"},"Tests per 1M"))),r.a.createElement(M.a,null,r.a.createElement(j,{sortedStyle:"font-bold",average:o}),t.map((function(e,t){var a,i,u;return r.a.createElement(k.a,{key:e.country},r.a.createElement(C.a,{align:"right"},r.a.createElement("span",{className:"flex items-center justify-end"},r.a.createElement("span",{className:"font-bold"},e.ranking),r.a.createElement(S.a,{name:"".concat(null===(a=e.countryInfo)||void 0===a?void 0:a.iso2),onChange:function(e){return l(e.target.name)},size:"small",checked:c.includes((null===(i=e.countryInfo)||void 0===i?void 0:i.iso2)||"")}))),r.a.createElement(C.a,{className:"cursor-pointer",component:"th",scope:"row",onClick:function(){return s(e)}},r.a.createElement("span",{className:"flex items-center"},r.a.createElement("img",{className:"w-4 mr-2",src:"".concat(null===(u=e.countryInfo)||void 0===u?void 0:u.flag),alt:""}),r.a.createElement("span",null,e.country))),["cases","todayCases","deaths","todayDeaths","lethality","casesPerOneMillion","deathsPerOneMillion","tests","testsPerOneMillion"].map((function(t){var a=0!==e[t]?e[t].toLocaleString():" --";return"lethality"===t&&(a+="%"),r.a.createElement(C.a,{style:n===t?{fontWeight:"bold",borderRight:"1px solid rgba(0,0,0,.3)",borderLeft:"1px solid rgba(0,0,0,.3)",boxShadow:"0 0 5px rgba(0,0,0,.1)",zIndex:11}:void 0,className:"".concat(D(e,t,o)),align:"right"},a)})))})))))}var D=function(e,t,a){var n=a[t],r=e[t],l=n/r;return 0===r?"bg-white":"tests"===t||"testsPerOneMillion"===t?l<.1?"bg-green-300":l<.2?"bg-green-200":l<.3?"bg-green-100":n>8*r?"bg-red-300":n>6*r?"bg-red-200":n>4*r?"bg-red-100":"bg-white":"lethality"===t?n>6*r?"bg-green-300":n>4*r?"bg-green-200":n>2*r?"bg-green-100":r>3*n?"bg-red-300":r>2.5*n?"bg-red-200":r>2*n?"bg-red-100":"bg-white":l<.1?"bg-red-300":l<.2?"bg-red-200":l<.3?"bg-red-100":n>8*r?"bg-green-300":n>7*r?"bg-green-200":n>5*r?"bg-green-100":"bg-white"},L=a(471),A=a(472),I=a(473),F=a(127),T=a.n(F);function z(e){var t=e.view,a=e.onChangeView,n=T()()?"Cards":"Cards View",l=T()()?"Table":"Table View";return r.a.createElement("div",{className:"ml-3 flex items-center"},r.a.createElement(L.a,{style:{height:"100%"},onClick:function(){return a("cards"===t?"table":"cards")},variant:"contained"},"cards"!==t?r.a.createElement(A.a,null):r.a.createElement(I.a,null),r.a.createElement("span",{className:"ml-3 normal-case"},"cards"!==t?n:l)))}var J=a(200),W=a(188),K=a(189),V=function(){function e(){Object(W.a)(this,e),this.country="",this.countryInfo=void 0,this.todayCases=0,this.deaths=0,this.todayDeaths=0,this.recovered=0,this.critical=0,this.deathsPerOneMillion=0,this.updated=0,this.tests=0,this.testsPerOneMillion=0,this.active=0,this.cases=0,this.casesPerOneMillion=0,this.isNewData=!1,this.ranking=0}return Object(K.a)(e,[{key:"toJSON",value:function(){return Object(J.a)({},this,{lethality:this.lethality})}},{key:"lethality",get:function(){var e=(this.deaths&&this.cases&&this.deaths/this.cases*100).toFixed(2);return Number(e)}}]),e}(),R="https://corona.lmao.ninja/v2/countries";function B(e,t){return H.apply(this,arguments)}function H(){return(H=Object(i.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.prev=1,e.next=4,fetch(R);case 4:return e.next=6,e.sent.json();case 6:return n=e.sent,(r=n.filter((function(e){return e.cases>t})).sort((function(e,t){return t[a]-e[a]})).map((function(e){return Object.assign(new V,e)}))).forEach((function(e,t){return e.ranking=t+1})),e.abrupt("return",r);case 12:return e.prev=12,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}var $=function(e){return"https://corona.lmao.ninja/v2/historical/".concat(e,"?lastdays=95")};function q(e){return G.apply(this,arguments)}function G(){return(G=Object(i.a)(o.a.mark((function e(t){var a,n,r,l,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch($(t));case 2:return e.next=4,e.sent.json();case 4:return a=e.sent,n=a.timeline,r=n.cases,l=n.deaths,s=Object.keys(n.cases).map((function(e,t,a){var n=e.split("/");1===n[0].length&&(n[0]="0"+n[0]),1===n[1].length&&(n[1]="0"+n[1]);var s=Q(n[0])+" "+n[1],c=r[e],o=l[e];return{date:s,cases:c,todayCases:0===t?c:c-r[a[t-1]],deaths:o,todayDeaths:0===t?o:o-l[a[t-1]]}})).filter((function(e){return 0!==e.cases})).sort(),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=function(e){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dez"][Number(e)-1]},U=a(484),X=a(474),Y=a(475),Z=a(476),_=a(16);function ee(e){var t=e.report,a=e.scale;return r.a.createElement("div",{className:"mb-4"},r.a.createElement("h3",{className:"bg-gray-100 p-2 mb-2 font-bold"},"Evolution of cases and deaths since ",t[0].date," ",r.a.createElement("span",{className:"bg-yellow-400 px-2 font-normal rounded-lg"},a," scale")),r.a.createElement("div",{style:{width:"100%",height:200,maxWidth:500,padding:10,color:"white",margin:"0 auto",backgroundColor:"rgba(0,0,0,.9)",borderRadius:10}},r.a.createElement(_.h,null,r.a.createElement(_.f,{data:t,barSize:"big"},r.a.createElement(_.j,{dataKey:"date",allowDataOverflow:!0,stroke:"darkgray"}),r.a.createElement(_.k,{dataKey:"cases",scale:a,domain:[1,"auto"],stroke:"darkgray"}),r.a.createElement(_.c,{strokeDasharray:"1 1"}),r.a.createElement(_.i,null),r.a.createElement(_.d,null),r.a.createElement(_.e,{type:"monotone",dataKey:"cases",stroke:"rgba(0, 136, 254, 0.82)",dot:{r:3,fill:"rgb(0, 136, 254)"}})," ",r.a.createElement(_.e,{type:"linear",dataKey:"deaths",stroke:"red",dot:{r:3,fill:"#F44336"}})))))}function te(e){var t=e.report,a=e.field,n=t.slice(-14),l=n.map((function(e){return e[a]})).reduce((function(e,t){return e+t}))/n.length;return r.a.createElement("div",{className:"mb-4"},r.a.createElement("h3",{className:"bg-gray-100 p-2 mb-2 font-bold"},a.replace("today","")," per day in the last 2 weeks"," ",r.a.createElement("span",{className:"font-normal px-1 rounded ".concat("todayDeaths"===a&&l>300?l>600?"bg-red-800 text-white":"bg-red-500 text-white":"bg-gray-300")},"average ",Math.round(l))),r.a.createElement("div",{style:{width:"100%",height:200,maxWidth:500,padding:10,color:"white",margin:"0 auto",backgroundColor:"rgba(0,0,0,.9)",borderRadius:10}},r.a.createElement(_.h,null,r.a.createElement(_.b,{data:n,height:200,width:500},r.a.createElement(_.i,{content:r.a.createElement(ae,null)}),r.a.createElement(_.d,null),r.a.createElement(_.j,{dataKey:"date",stroke:"darkgray"}),r.a.createElement(_.k,{dataKey:a,stroke:"darkgray"}),r.a.createElement(_.a,{name:a.replace("today","").toLowerCase(),dataKey:a,fill:"todayCases"===a?"rgb(0, 136, 254)":"#F44336"}),r.a.createElement(_.g,{y:l,stroke:"yellow",strokeDasharray:"3 3",isFront:!0})))))}var ae=function(e){var t=e.active,a=e.payload,n=e.label;return t?r.a.createElement("div",{className:"bg-white text-black border-gray-100 p-2 border border-solid"},r.a.createElement("p",null,n),r.a.createElement("p",{className:"label"},"".concat(a[0].name,": ").concat(a[0].value))):null};function ne(e){var t,a=e.country,l=e.open,s=e.onClose,c=Object(n.useState)([]),d=Object(u.a)(c,2),m=d[0],h=d[1];return Object(n.useEffect)((function(){(function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(a.country);case 2:t=e.sent,h(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",null,r.a.createElement(U.a,{open:l,"aria-labelledby":"responsive-dialog-title",onClose:s,fullWidth:!0,maxWidth:"sm"},r.a.createElement(X.a,{id:"responsive-dialog-title",className:"bg-gray-200 mb-4  flex justify-center"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("img",{className:"w-4 h-4 rounded-full mr-4",src:"".concat(null===(t=a.countryInfo)||void 0===t?void 0:t.flag),alt:""}),r.a.createElement("span",{className:"font-bold"},a.country))),r.a.createElement(Y.a,null,m.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,{report:m,scale:"log"}),r.a.createElement(ee,{report:m,scale:"linear"}),r.a.createElement(te,{report:m,field:"todayCases"}),r.a.createElement(te,{report:m,field:"todayDeaths"})):r.a.createElement("span",null,"...loading country data")),r.a.createElement(Z.a,null,r.a.createElement(L.a,{autoFocus:!0,color:"primary",onClick:s},"Close"))))}function re(){var e,t,a=Object(n.useState)([]),l=Object(u.a)(a,2),s=l[0],c=l[1],d=Object(n.useState)([]),h=Object(u.a)(d,2),v=h[0],g=h[1],f=Object(n.useState)(),w=Object(u.a)(f,2),N=w[0],O=w[1],x=Object(n.useState)(JSON.parse(localStorage.getItem("countries")||"[]")||[]),k=Object(u.a)(x,2),C=k[0],M=k[1],S=Object(n.useState)("cases"),j=Object(u.a)(S,2),D=j[0],L=j[1],A=Object(n.useState)("table"),I=Object(u.a)(A,2),F=I[0],T=I[1],J=Object(n.useState)(!1),W=Object(u.a)(J,2),K=W[0],V=W[1];Object(n.useEffect)((function(){q("Spain"),function(){var e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(1e3,"cases");case 2:if((t=e.sent).length)try{a=JSON.stringify(t),localStorage.setItem("countries",a),c(t)}catch(n){console.log(n)}case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var R=function(e){O(e)},H=s||C,$=le(s);return K&&(H=H.filter((function(e){var t;return v.includes((null===(t=e.countryInfo)||void 0===t?void 0:t.iso2)||"")}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex mb-2  flex-auto  p-2",style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}},r.a.createElement(E,{onSort:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cases";L(e);var t=function(t,a){return a[e]>t[e]?1:a[e]<t[e]?-1:0},a=s.slice().sort(t);a.forEach((function(e,t){return e.ranking=t+1}));var n=C.slice().sort(t);c(a),M(n)}}),r.a.createElement(z,{view:F,onChangeView:function(e){T(e)}}),r.a.createElement("span",{className:"ml-4 flex"},r.a.createElement(y.a,{control:r.a.createElement(b.a,{name:"checkedA",size:"small",checked:K,onChange:function(e,t){V(t)},disabled:0===v.length}),label:"Filter"}))),N&&r.a.createElement(ne,{country:N,open:void 0!==N,onClose:function(){O(void 0)}}),0===(null===(e=H)||void 0===e?void 0:e.length)&&r.a.createElement("div",{className:"flex justify-center items-center"},r.a.createElement(p.a,{color:"primary",size:20}),r.a.createElement("span",{className:"ml-2"},"Loading")),"cards"===F?r.a.createElement("div",{className:"grid md:grid-cols-3 gap-4  xl:grid-cols-3"},null===(t=H)||void 0===t?void 0:t.map((function(e){return r.a.createElement(m,{onSelectCountry:R,country:e,key:e.country,activeProperty:D,previousData:C.find((function(t){return t.country===e.country}))})}))):0!==H.length&&r.a.createElement(P,{onShowStats:R,average:$,onSelectCountry:function(e){var t=v.slice(),a=t.indexOf(e);-1!==a?t.splice(a,1):t.push(e),0===t.length&&V(!1),g(t)},countries:H,sortProperty:D,selectedCountries:v}))}var le=function(e){var t={};return["cases","todayCases","deaths","todayDeaths","lethality","casesPerOneMillion","deathsPerOneMillion","tests","testsPerOneMillion"].forEach((function(a){var n=e.map((function(e){return e[a]})).sort();e.length>10&&(n.pop(),n.pop(),n.shift(),n.shift());var r=n.reduce((function(e,t){return e+t}),0)/e.length,l=Math.round(r);t[a]=l})),t};function se(){return r.a.createElement("nav",{className:" p-6 mb-3 w-screen top-0 bg-white shadow-md uppercase z-10"},r.a.createElement("div",{className:"container mx-auto flex items-center justify-between flex-wrap "},r.a.createElement("div",{className:" flex items-center flex-shrink-0 text-black mr-6"},r.a.createElement("img",{src:"/corona-info/favicon.png",alt:"",className:"w-8 mr-2"}),r.a.createElement("span",{className:"font-semibold text-2xl tracking-tight "},"Corona Info"))))}var ce=function(){return r.a.createElement("div",{className:" "},r.a.createElement(se,null),r.a.createElement("div",{className:"container  bg-white mx-auto"},r.a.createElement(re,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe=a(199),ie=a(480),ue=a(99),de=a(100),me=Object(oe.a)({palette:{primary:ue.a,secondary:{main:"#2196f3"},success:de.a}});s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ie.a,{theme:me},r.a.createElement(ce,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[235,1,2]]]);
//# sourceMappingURL=main.06cd6682.chunk.js.map