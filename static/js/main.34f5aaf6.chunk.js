(this["webpackJsonpcorona-info"]=this["webpackJsonpcorona-info"]||[]).push([[0],{65:function(e,t,a){e.exports=a(79)},70:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(10),s=a.n(r),i=(a(70),a(27)),c=a.n(i),o=a(34),u=a(25);function m(e){var t=e.text,a=e.value,n=e.isActive,r=void 0!==n&&n,s=e.isNew,i=void 0!==s&&s;return l.a.createElement("div",{className:"flex justify-between items-center relative pl-2 ".concat(r&&"font-bold"," rounded-lg")},i?l.a.createElement("div",{className:"blob green absolute ",style:{left:-35},title:"there's new data since the last time you visited the site"}):l.a.createElement("div",{className:"absolute left-0",style:{width:10}}),l.a.createElement("span",null,t,":"),l.a.createElement("div",null,a))}a(72);function d(e){var t,a,n,r,s=e.country,i=e.activeProperty,c=e.index,o=e.previousData;return l.a.createElement("div",{className:"shadow rounded-md overflow-hidden hover:shadow-md  transition duration-300 ease-in-out cursor-pointer"},l.a.createElement("div",{className:"w-full flex justify-center items-center p-5 font-bold uppercase text-black text-lg relative",style:{backgroundColor:"rgba(0,0,0,.04)"}},l.a.createElement("span",{className:"absolute",style:{left:"2rem"}},c,"."),l.a.createElement("img",{src:null===(t=s.countryInfo)||void 0===t?void 0:t.flag,alt:"",className:"h-4 mr-2"}),l.a.createElement("h3",null,s.country),s.isNewData&&l.a.createElement("div",{className:"blob green",title:"there is new data from the last time you visited the site"})),l.a.createElement("div",{className:"px-6 py-2"},l.a.createElement(m,{text:"Cases",value:s.cases.toLocaleString(),isActive:"cases"===i,isNew:(null===o||void 0===o?void 0:o.cases)!==s.cases}),l.a.createElement(m,{text:"Today cases",value:null===(a=s.todayCases)||void 0===a?void 0:a.toLocaleString(),isActive:"todayCases"===i,isNew:(null===o||void 0===o?void 0:o.todayCases)!==s.todayCases}),l.a.createElement("br",{className:"my-3"}),l.a.createElement(m,{text:"Deaths",value:null===(n=s.deaths)||void 0===n?void 0:n.toLocaleString(),isActive:"deaths"===i,isNew:(null===o||void 0===o?void 0:o.deaths)!==s.deaths}),l.a.createElement(m,{text:"Today deaths",value:null===(r=s.todayDeaths)||void 0===r?void 0:r.toLocaleString(),isActive:"todayDeaths"===i,isNew:(null===o||void 0===o?void 0:o.todayDeaths)!==s.todayDeaths}),l.a.createElement("br",{className:"my-3"}),l.a.createElement(m,{text:"Lethality",value:s.lethality?s.lethality.toFixed(2)+"%":"0%",isActive:"lethality"===i,isNew:(null===o||void 0===o?void 0:o.lethality)!==s.lethality}),l.a.createElement(m,{text:"Cases per 1M",value:s.casesPerOneMillion.toLocaleString(),isActive:"casesPerOneMillion"===i,isNew:(null===o||void 0===o?void 0:o.casesPerOneMillion)!==s.casesPerOneMillion}),l.a.createElement(m,{text:"Deaths per 1M",value:s.deathsPerOneMillion.toLocaleString(),isActive:"deathsPerOneMillion"===i,isNew:(null===o||void 0===o?void 0:o.deathsPerOneMillion)!==s.deathsPerOneMillion}),l.a.createElement("br",null),l.a.createElement(m,{text:"Tests",value:s.tests.toLocaleString(),isActive:"tests"===i,isNew:(null===o||void 0===o?void 0:o.tests)!==s.tests}),l.a.createElement(m,{text:"Tests per 1M",value:s.testsPerOneMillion.toLocaleString(),isActive:"testsPerOneMillion"===i,isNew:(null===o||void 0===o?void 0:o.testsPerOneMillion)!==s.testsPerOneMillion})))}var v=a(132),h=a(133),g=a(113),f=a(130);a(73);function E(e){var t=e.onSort;return l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,{variant:"filled",className:"border-10 border",style:{minWidth:180}},l.a.createElement(v.a,{id:"select-label"},"Sort by"),l.a.createElement(f.a,{labelId:"select-label",id:"select",onChange:function(e){var a=e.target.value;t(a)},label:"Sort by"},l.a.createElement(h.a,{value:"cases"},"cases"),l.a.createElement(h.a,{value:"todayCases"},"today cases"),l.a.createElement(h.a,{value:"deaths"},"deaths"),l.a.createElement(h.a,{value:"todayDeaths"},"today deaths"),l.a.createElement("br",null),l.a.createElement(h.a,{value:"lethality"},"lethality"),l.a.createElement(h.a,{value:"casesPerOneMillion"},"cases per 1M"),l.a.createElement(h.a,{value:"deathsPerOneMillion"},"deaths per 1M"),l.a.createElement("br",null),l.a.createElement(h.a,{value:"tests"},"tests"),l.a.createElement(h.a,{value:"testsPerOneMillion"},"tests per 1M"))))}a(77);var b=a(134),y=a(127),p=a(128),w=a(120),N=a(117),O=a(121),x=a(122),M=a(118),P=a(119),S=a(123),C=a(131);function j(e){var t=e.sortedStyle,a=e.average;return l.a.createElement(M.a,{key:"average"},l.a.createElement(P.a,{align:"right",className:t+" font-bold"}),l.a.createElement(P.a,{component:"th",scope:"row",className:t},l.a.createElement("span",{className:"font-bold"},"Average*")),["cases","todayCases","deaths","todayDeaths","lethality","casesPerOneMillion","deathsPerOneMillion","tests","testsPerOneMillion"].map((function(e){return l.a.createElement(P.a,{align:"right",className:t+" font-bold"},l.a.createElement("span",{className:"font-bold"},a[e].toLocaleString(),"lethality"===e&&".00%"))})))}a(78);function k(e){var t=e.countries,a=e.sortProperty,n=void 0===a?"cases":a,r=e.onSelectCountry,s=e.selectedCountries,i=D(t);return l.a.createElement(w.a,{component:N.a},l.a.createElement(O.a,{size:"small","aria-label":"a dense table",stickyHeader:!0},l.a.createElement(x.a,null,l.a.createElement(M.a,null,l.a.createElement(P.a,{align:"center"},l.a.createElement("span",{className:"font-bold"},"#")),l.a.createElement(P.a,null,"Country"),l.a.createElement(P.a,{align:"center"},"Cases"),l.a.createElement(P.a,{align:"center"},"Today cases"),l.a.createElement(P.a,{align:"center"},"Deaths"),l.a.createElement(P.a,{align:"center"},"Today deaths"),l.a.createElement(P.a,{align:"center"},"Lethality"),l.a.createElement(P.a,{align:"center"},"Cases per 1M"),l.a.createElement(P.a,{align:"center"},"Deaths per 1M"),l.a.createElement(P.a,{align:"center"},"Tests"),l.a.createElement(P.a,{align:"center"},"Tests per 1M"))),l.a.createElement(S.a,null,l.a.createElement(j,{sortedStyle:"font-bold",average:i}),t.map((function(e,t){var a,c,o;L(e,n,i);return l.a.createElement(M.a,{key:e.country},l.a.createElement(P.a,{align:"right"},l.a.createElement("span",{className:"flex items-center"},l.a.createElement("span",{className:"font-bold"},t+1),l.a.createElement(C.a,{name:"".concat(null===(a=e.countryInfo)||void 0===a?void 0:a.iso2),onChange:function(e){return r(e.target.name)},size:"small",checked:s.includes((null===(c=e.countryInfo)||void 0===c?void 0:c.iso2)||"")}))),l.a.createElement(P.a,{component:"th",scope:"row"},l.a.createElement("span",{className:"flex items-center"},l.a.createElement("img",{className:"w-4 mr-2",src:"".concat(null===(o=e.countryInfo)||void 0===o?void 0:o.flag),alt:""}),l.a.createElement("span",null,e.country))),["cases","todayCases","deaths","todayDeaths","lethality","casesPerOneMillion","deathsPerOneMillion","tests","testsPerOneMillion"].map((function(t){var a;return l.a.createElement(P.a,{style:n===t?{fontWeight:"bold",borderRight:"1px solid rgba(0,0,0,.3)",borderLeft:"1px solid rgba(0,0,0,.3)",boxShadow:"0 0 5px rgba(0,0,0,.1)",zIndex:11}:void 0,className:"".concat(L(e,t,i)),align:"right"},null===(a=e[t])||void 0===a?void 0:a.toLocaleString(),"lethality"===t&&"%")})))})))))}var D=function(e){var t={};return["cases","todayCases","deaths","todayDeaths","lethality","casesPerOneMillion","deathsPerOneMillion","tests","testsPerOneMillion"].map((function(a){var n=e.map((function(e){return e[a]})).sort();e.length>10&&(n.pop(),n.pop(),n.shift(),n.shift());var l=n.reduce((function(e,t){return e+t}))/e.length,r=Math.round(l);t[a]=r})),t},L=function(e,t,a){var n=a[t],l=e[t],r=n/l;return"tests"===t||"testsPerOneMillion"===t?r<.1?"bg-green-300":r<.2?"bg-green-200":r<.3?"bg-green-100":n>8*l?"bg-red-300":n>6*l?"bg-red-200":n>4*l?"bg-red-100":"bg-white":"lethality"===t?n>6*l?"bg-green-300":n>4*l?"bg-green-200":n>2*l?"bg-green-100":l>3*n?"bg-red-300":l>2.5*n?"bg-red-200":l>2*n?"bg-red-100":"bg-white":r<.1?"bg-red-300":r<.2?"bg-red-200":r<.3?"bg-red-100":n>8*l?"bg-green-300":n>7*l?"bg-green-200":n>5*l?"bg-green-100":"bg-white"},A=a(124),I=a(125),T=a(126);function z(e){var t=e.view,a=e.onChangeView;return l.a.createElement("div",{className:"ml-3 flex items-center"},l.a.createElement(A.a,{style:{height:"100%"},onClick:function(){return a("cards"===t?"table":"cards")},variant:"contained"},"cards"!==t?l.a.createElement(I.a,null):l.a.createElement(T.a,null),l.a.createElement("span",{className:"ml-3 normal-case"},"cards"!==t?"Cards View":"Table View")))}var F=a(60),J=a(57),V=a(58),W=function(){function e(){Object(J.a)(this,e),this.country=void 0,this.countryInfo=void 0,this.todayCases=0,this.deaths=0,this.todayDeaths=0,this.recovered=0,this.critical=0,this.deathsPerOneMillion=0,this.updated=0,this.tests=0,this.testsPerOneMillion=0,this.active=0,this.cases=0,this.casesPerOneMillion=0,this.isNewData=!1}return Object(V.a)(e,[{key:"toJSON",value:function(){return Object(F.a)({},this,{lethality:this.lethality})}},{key:"lethality",get:function(){var e=(this.deaths&&this.cases&&this.deaths/this.cases*100).toFixed(2);return Number(e)}}]),e}(),B="https://corona.lmao.ninja/v2/countries";function H(e,t){return R.apply(this,arguments)}function R(){return(R=Object(o.a)(c.a.mark((function e(t,a){var n,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.prev=1,e.next=4,fetch(B);case 4:return e.next=6,e.sent.json();case 6:return n=e.sent,l=n.filter((function(e){return e.cases>t})).sort((function(e,t){return t[a]-e[a]})).map((function(e){return Object.assign(new W,e)})),e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function $(){var e,t,a=Object(n.useState)([]),r=Object(u.a)(a,2),s=r[0],i=r[1],m=Object(n.useState)([]),v=Object(u.a)(m,2),h=v[0],g=v[1],f=Object(n.useState)(JSON.parse(localStorage.getItem("countries")||"[]")||[]),w=Object(u.a)(f,2),N=w[0],O=w[1],x=Object(n.useState)("cases"),M=Object(u.a)(x,2),P=M[0],S=M[1],C=Object(n.useState)("table"),j=Object(u.a)(C,2),D=j[0],L=j[1],A=Object(n.useState)(!1),I=Object(u.a)(A,2),T=I[0],F=I[1];Object(n.useEffect)((function(){(function(){var e=Object(o.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(1e3,"cases");case 2:if((t=e.sent).length)try{a=JSON.stringify(t),localStorage.setItem("countries",a),i(t)}catch(n){console.log(n)}case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var J=s||N;return T&&(J=J.filter((function(e){var t;return h.includes((null===(t=e.countryInfo)||void 0===t?void 0:t.iso2)||"")}))),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"flex mb-2  flex-auto  p-2",style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}},l.a.createElement(E,{onSort:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cases";S(e);var t=function(t,a){return a[e]>t[e]?1:a[e]<t[e]?-1:0},a=s.slice().sort(t),n=N.slice().sort(t);i(a),O(n)}}),l.a.createElement(z,{view:D,onChangeView:function(e){L(e)}}),l.a.createElement("span",{className:"ml-4 flex"},l.a.createElement(b.a,{control:l.a.createElement(y.a,{name:"checkedA",size:"small",checked:T,onChange:function(e,t){F(t)}}),label:"Filter"}))),0===(null===(e=J)||void 0===e?void 0:e.length)&&l.a.createElement("div",{className:"flex justify-center items-center"},l.a.createElement(p.a,{color:"primary",size:20}),l.a.createElement("span",{className:"ml-2"},"Loading")),"cards"===D?l.a.createElement("div",{className:"grid md:grid-cols-3 gap-4  xl:grid-cols-3"},null===(t=J)||void 0===t?void 0:t.map((function(e,t){return l.a.createElement(d,{index:t+1,country:e,key:e.country,activeProperty:P,previousData:N[t]})}))):0!==J.length&&l.a.createElement(k,{onSelectCountry:function(e){var t=h.slice(),a=t.indexOf(e);-1!==a?t.splice(a,1):t.push(e),g(t)},countries:J,sortProperty:P,selectedCountries:h}))}function q(){return l.a.createElement("nav",{className:" p-6 mb-3 w-screen top-0 bg-white shadow-md uppercase z-10"},l.a.createElement("div",{className:"container mx-auto flex items-center justify-between flex-wrap "},l.a.createElement("div",{className:" flex items-center flex-shrink-0 text-black mr-6"},l.a.createElement("img",{src:"/corona-info/favicon.png",alt:"",className:"w-8 mr-2"}),l.a.createElement("span",{className:"font-semibold text-2xl tracking-tight "},"Corona Info"))))}var G=function(){return l.a.createElement("div",{className:" "},l.a.createElement(q,null),l.a.createElement("div",{className:"container max-w-5xl bg-white mx-auto"},l.a.createElement($,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=a(59),Q=a(129),U=a(44),X=a(45),Y=Object(K.a)({palette:{primary:U.a,secondary:{main:"#2196f3"},success:X.a}});s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Q.a,{theme:Y},l.a.createElement(G,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[65,1,2]]]);
//# sourceMappingURL=main.34f5aaf6.chunk.js.map